<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Hub â€“ Fundamental Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            color: #E0E0E0;
            background-color: #121212; /* Fallback color */
        }
        .bg-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            opacity: 0.6; 
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Roboto', sans-serif;
        }
        /* Semi-transparent overlays */
        .bg-dark { background-color: rgba(18, 18, 18, 0.6); }
        .bg-dark-secondary { background-color: rgba(30, 30, 30, 0.6); }
        .text-gold { color: #D4AF37; }
        .border-gold { border-color: #D4AF37; }
        .btn-gold {
            background-color: #D4AF37;
            color: #121212;
            transition: all 0.3s ease;
        }
        .btn-gold:hover {
            background-color: #EACD69;
            transform: translateY(-2px);
        }
        .sticky-nav {
            position: sticky;
            top: 0;
            z-index: 50;
            background-color: rgba(18, 18, 18, 0.6);
            backdrop-filter: blur(10px);
        }
        .hero-section {
            height: 85vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.2); 
        }
        .nav-link {
            position: relative;
            transition: color 0.3s;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #D4AF37;
            transition: width 0.3s;
        }
        .nav-link:hover::after, .nav-link.active::after {
            width: 100%;
        }
        .card {
            background-color: rgba(30, 30, 30, 0.6);
            border: 1px solid #333;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(212, 175, 55, 0.1);
        }
        .page { display: none; }
        .page.active { display: block; }
        
        .ticker-container {
            background-color: rgba(0, 0, 0, 0.3);
        }
        
        /* Modal styles */
        .modal {
            background-color: rgba(0, 0, 0, 0.8);
        }
        .modal-content {
             background-color: rgba(30, 30, 30, 0.95);
        }

        /* Hide scrollbar for horizontal scroll */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

    </style>
</head>
<body>

    <!-- Background Video -->
    <video autoplay muted loop playsinline class="bg-video">
        <source src="https://cdn.pixabay.com/video/2022/07/02/122881-726547787_large.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Live Market Ticker -->
    <div class="ticker-container">
        <!-- TradingView Widget BEGIN -->
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
          {
          "symbols": [
            { "proName": "FOREXCOM:SPXUSD", "title": "S&P 500" },
            { "proName": "FOREXCOM:NSXUSD", "title": "US 100" },
            { "proName": "FX_IDC:EURUSD", "title": "EUR/USD" },
            { "proName": "BITSTAMP:BTCUSD", "title": "Bitcoin" },
            { "proName": "BITSTAMP:ETHUSD", "title": "Ethereum" },
            { "description": "Apple", "proName": "NASDAQ:AAPL" },
            { "description": "Microsoft", "proName": "NASDAQ:MSFT" },
            { "description": "Google", "proName": "NASDAQ:GOOGL" },
            { "description": "Amazon", "proName": "NASDAQ:AMZN" },
            { "description": "NVIDIA", "proName": "NASDAQ:NVDA" },
            { "description": "Tesla", "proName": "NASDAQ:TSLA" }
          ],
          "showSymbolLogo": true,
          "colorTheme": "dark",
          "isTransparent": true,
          "displayMode": "adaptive",
          "locale": "en"
        }
          </script>
        </div>
        <!-- TradingView Widget END -->
    </div>

    <!-- Header & Navigation -->
    <header id="header" class="sticky-nav border-b border-gray-700">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-white nav-link" data-page="home">
                Trading Hub<span class="text-gold"> Fundamental Analysis</span>
            </a>
            <div class="hidden md:flex items-center space-x-8" id="desktop-nav-links">
                <a href="#" class="nav-link text-gray-300 hover:text-gold active" data-page="home">Home</a>
                <a href="#" class="nav-link text-gray-300 hover:text-gold" data-page="markets">Our Markets</a>
                <a href="#" class="nav-link text-gray-300 hover:text-gold" data-page="blog">Fundamental Analysis Blog</a>
                <a href="#" class="nav-link text-gray-300 hover:text-gold" data-page="contact">Contact</a>
                <!-- Auth links will be injected here by JS -->
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-white focus:outline-none">
                    <i class="fas fa-bars fa-lg"></i>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#" class="block py-2 text-gray-300 hover:text-gold" data-page="home">Home</a>
            <a href="#" class="block py-2 text-gray-300 hover:text-gold" data-page="markets">Our Markets</a>
            <a href="#" class="block py-2 text-gray-300 hover:text-gold" data-page="blog">Blog</a>
            <a href="#" class="block py-2 text-gray-300 hover:text-gold" data-page="contact">Contact</a>
             <!-- Mobile Auth links will be injected here by JS -->
        </div>
    </header>

    <main>
        <!-- Home Page -->
        <div id="home" class="page active">
            <!-- Hero Section -->
            <section class="hero-section text-white text-center">
                <div class="z-10 px-4">
                    <h1 class="text-4xl md:text-6xl font-bold mb-4 leading-tight">Trade Currencies, Commodities, <br class="hidden md:block"> Precious Metals and Global Stock Indices</h1>
                    <p class="text-lg md:text-xl max-w-3xl mx-auto text-gray-300">Unlock global markets with cutting-edge analysis and powerful insights. We provide the knowledge you need to navigate the financial world with confidence.</p>
                </div>
            </section>
            
            <!-- Value Proposition -->
            <section class="py-16 sm:py-24 bg-dark">
                <div class="container mx-auto px-6 text-center">
                    <div class="grid md:grid-cols-3 gap-12">
                        <div class="flex flex-col items-center">
                            <div class="bg-dark-secondary p-5 rounded-full mb-4 border border-gray-700">
                                <i class="fas fa-chart-line fa-2x text-gold"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-white">In-Depth Analysis</h3>
                            <p class="text-gray-400">Access comprehensive fundamental analysis to make informed trading decisions.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="bg-dark-secondary p-5 rounded-full mb-4 border border-gray-700">
                                <i class="fas fa-book-open fa-2x text-gold"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-white">Educational Resources</h3>
                            <p class="text-gray-400">Learn the intricacies of the markets with our extensive blog and guides.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="bg-dark-secondary p-5 rounded-full mb-4 border border-gray-700">
                                <i class="fas fa-globe fa-2x text-gold"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-white">Global Market Coverage</h3>
                            <p class="text-gray-400">Explore opportunities across Forex, commodities, indices, and more.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Latest Analysis Section -->
            <section class="py-16 sm:py-24 bg-dark-secondary">
                <div class="container mx-auto px-6">
                    <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 text-white">Latest Analysis</h2>
                    <div class="overflow-x-auto hide-scrollbar pb-4">
                        <div id="latest-posts-container" class="flex space-x-8">
                            <!-- Latest blog posts will be loaded here dynamically -->
                        </div>
                    </div>
                </div>
            </section>

        </div>

        <!-- Our Markets Page -->
        <div id="markets" class="page">
           <section class="py-16 sm:py-24 bg-dark-secondary">
                <div class="container mx-auto px-6">
                    <h1 class="text-4xl md:text-5xl font-bold text-center mb-16 text-white">Live Market Data</h1>
                    
                    <!-- Market Overview Widget -->
                    <div class="mb-16">
                        <h2 class="text-3xl font-bold mb-8 text-center">Market Overview</h2>
                        <!-- TradingView Widget BEGIN -->
                        <div class="tradingview-widget-container" style="height:500px; width:100%">
                          <div class="tradingview-widget-container__widget"></div>
                          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
                          {
                          "colorTheme": "dark",
                          "dateRange": "12M",
                          "showChart": true,
                          "locale": "en",
                          "largeChartUrl": "",
                          "isTransparent": true,
                          "showSymbolLogo": true,
                          "showFloatingTooltip": false,
                          "width": "100%",
                          "height": "100%",
                          "plotLineColorGrowing": "rgba(41, 98, 255, 1)",
                          "plotLineColorFalling": "rgba(41, 98, 255, 1)",
                          "gridLineColor": "rgba(42, 46, 57, 0)",
                          "scaleFontColor": "rgba(120, 123, 134, 1)",
                          "belowLineFillColorGrowing": "rgba(41, 98, 255, 0.12)",
                          "belowLineFillColorFalling": "rgba(41, 98, 255, 0.12)",
                          "belowLineFillColorGrowingBottom": "rgba(41, 98, 255, 0)",
                          "belowLineFillColorFallingBottom": "rgba(41, 98, 255, 0)",
                          "symbolActiveColor": "rgba(41, 98, 255, 0.12)",
                          "tabs": [
                            {
                              "title": "Indices",
                              "symbols": [
                                { "s": "FOREXCOM:SPXUSD", "d": "S&P 500" },
                                { "s": "FOREXCOM:NSXUSD", "d": "US 100" },
                                { "s": "FOREXCOM:DJI", "d": "Dow 30" },
                                { "s": "INDEX:NKY", "d": "Nikkei 225" },
                                { "s": "INDEX:DEU40", "d": "DAX 40" },
                                { "s": "FOREXCOM:UKXGBP", "d": "UK 100" }
                              ],
                              "originalTitle": "Indices"
                            },
                            {
                              "title": "Forex",
                              "symbols": [
                                { "s": "FX:EURUSD", "d": "EUR/USD" },
                                { "s": "FX:GBPUSD", "d": "GBP/USD" },
                                { "s": "FX:USDJPY", "d": "USD/JPY" },
                                { "s": "FX:USDCHF", "d": "USD/CHF" },
                                { "s": "FX:AUDUSD", "d": "AUD/USD" },
                                { "s": "FX:USDCAD", "d": "USD/CAD" }
                              ],
                              "originalTitle": "Forex"
                            },
                            {
                              "title": "Crypto",
                              "symbols": [
                                { "s": "BITSTAMP:BTCUSD", "d": "Bitcoin" },
                                { "s": "BITSTAMP:ETHUSD", "d": "Ethereum" },
                                { "s": "COINBASE:SOLUSD", "d": "Solana" },
                                { "s": "COINBASE:XRPUSD", "d": "Ripple" },
                                { "s": "COINBASE:DOGEUSD", "d": "Dogecoin" }
                              ],
                              "originalTitle": "Crypto"
                            },
                            {
                              "title": "Commodities",
                              "symbols": [
                                { "s": "OANDA:XAUUSD", "d": "Gold" },
                                { "s": "OANDA:XAGUSD", "d": "Silver" },
                                { "s": "TVC:USOIL", "d": "Crude Oil" },
                                { "s": "TVC:UKOIL", "d": "Brent Oil" },
                                { "s": "TVC:NATURALGAS", "d": "Natural Gas" }
                              ],
                              "originalTitle": "Commodities"
                            }
                          ]
                        }
                          </script>
                        </div>
                        <!-- TradingView Widget END -->
                    </div>

                    <!-- Key Instruments Widget -->
                    <div class="mb-16">
                        <h2 class="text-3xl font-bold mb-8 text-center">Key Instrument Charts</h2>
                        <!-- TradingView Widget BEGIN -->
                        <div class="tradingview-widget-container">
                          <div class="tradingview-widget-container__widget"></div>
                          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                          {
                          "symbol": "FX:EURUSD",
                          "width": "100%",
                          "height": "100%",
                          "locale": "en",
                          "dateRange": "12M",
                          "colorTheme": "dark",
                          "isTransparent": true,
                          "autosize": true,
                          "largeChartUrl": ""
                        }
                          </script>
                        </div>
                        <!-- TradingView Widget END -->
                    </div>

                    <!-- Economic Calendar Widget -->
                    <div class="mb-16">
                        <h2 class="text-3xl font-bold mb-8 text-center">Economic Calendar</h2>
                        <!-- TradingView Widget BEGIN -->
                        <div class="tradingview-widget-container">
                          <div class="tradingview-widget-container__widget"></div>
                          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-events.js" async>
                          {
                          "colorTheme": "dark",
                          "isTransparent": true,
                          "width": "100%",
                          "height": "400",
                          "locale": "en",
                          "importanceFilter": "-1,0,1"
                        }
                          </script>
                        </div>
                        <!-- TradingView Widget END -->
                    </div>
                    
                    <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-white">Market Analysis & Resources</h2>
                    <p class="text-lg text-gray-400 text-center max-w-3xl mx-auto mb-16">Download our latest analysis files to stay ahead of the markets.</p>
                    <div id="market-files-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Market files will be loaded here dynamically -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Blog Page -->
        <div id="blog" class="page">
            <section class="py-16 sm:py-24 bg-dark">
                <div class="container mx-auto px-6">
                    <h1 class="text-4xl md:text-5xl font-bold text-center mb-12 text-white">Fundamental Analysis Blog</h1>
                    <div id="blog-posts-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Blog posts will be loaded here dynamically -->
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Contact Page -->
        <div id="contact" class="page">
            <section class="py-16 sm:py-24 bg-dark">
                <div class="container mx-auto px-6">
                    <div class="text-center">
                        <h1 class="text-4xl md:text-5xl font-bold text-white">Get In Touch</h1>
                        <p class="text-lg text-gray-400 mt-4 max-w-2xl mx-auto">Have a question, suggestion, or feedback? We'd love to hear from you.</p>
                    </div>
                    <div class="mt-16 max-w-6xl mx-auto grid md:grid-cols-2 gap-12">
                        <!-- Contact Form -->
                        <div class="bg-dark-secondary p-8 rounded-lg">
                            <h2 class="text-2xl font-bold text-white mb-6">Send us a Message</h2>
                            <form id="contact-form">
                                <div class="mb-4">
                                    <label for="name" class="block text-gray-300 mb-2">Name</label>
                                    <input type="text" id="name" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:outline-none focus:border-gold" required>
                                </div>
                                <div class="mb-4">
                                    <label for="email" class="block text-gray-300 mb-2">Email</label>
                                    <input type="email" id="email" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:outline-none focus:border-gold" required>
                                </div>
                                <div class="mb-6">
                                    <label for="message" class="block text-gray-300 mb-2">Message</label>
                                    <textarea id="message" rows="5" class="w-full bg-gray-800 border border-gray-700 rounded-lg p-3 text-white focus:outline-none focus:border-gold" required></textarea>
                                </div>
                                <button type="submit" class="btn-gold font-bold w-full py-3 rounded-lg">Submit</button>
                                <p id="form-status" class="text-center mt-4"></p>
                            </form>
                        </div>
                        <!-- Contact Info -->
                        <div class="space-y-8">
                           <div class="bg-dark-secondary p-8 rounded-lg">
                                <h3 class="text-2xl font-bold text-white mb-4">Contact Information</h3>
                                <ul class="space-y-4 text-gray-300">
                                    <li class="flex items-center">
                                        <i class="fas fa-envelope fa-fw mr-3 text-gold"></i>
                                        <span>support@tradinghub.com</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-phone fa-fw mr-3 text-gold"></i>
                                        <span>+44 7458 157780</span>
                                    </li>
                                    <li class="flex items-center">
                                        <i class="fas fa-map-marker-alt fa-fw mr-3 text-gold"></i>
                                        <span>123 Trading Lane, London, UK</span>
                                    </li>
                                </ul>
                           </div>
                           <div class="bg-dark-secondary p-8 rounded-lg">
                                <h3 class="text-2xl font-bold text-white mb-4">Business Hours</h3>
                                <ul class="space-y-2 text-gray-300">
                                    <li>Monday - Friday: 9:00 AM - 5:00 PM GMT</li>
                                    <li>Saturday, Sunday: Closed</li>
                                </ul>
                           </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Admin Dashboard Page -->
        <div id="admin" class="page">
            <section class="py-16 sm:py-24 bg-dark-secondary">
                <div class="container mx-auto px-6">
                    <h1 class="text-4xl font-bold text-center mb-12">Admin Dashboard</h1>
                    
                    <!-- Blog Management -->
                    <div class="max-w-2xl mx-auto bg-dark p-8 rounded-lg border border-gray-700">
                        <h2 class="text-2xl font-bold mb-6">Create New Post</h2>
                        <form id="create-post-form">
                            <div class="mb-4">
                                <label for="post-title" class="block mb-2">Title</label>
                                <input type="text" id="post-title" class="w-full bg-gray-800 border border-gray-600 rounded-lg p-2" required>
                            </div>
                            <div class="mb-4">
                                <label for="post-image-url" class="block mb-2">Image URL</label>
                                <input type="url" id="post-image-url" class="w-full bg-gray-800 border border-gray-600 rounded-lg p-2" required>
                            </div>
                            <div class="mb-4">
                                <label for="post-content" class="block mb-2">Content (Excerpt)</label>
                                <textarea id="post-content" rows="5" class="w-full bg-gray-800 border border-gray-600 rounded-lg p-2" required></textarea>
                            </div>
                             <div class="mb-6">
                                <label for="post-full-content" class="block mb-2">Full Blog Content</label>
                                <textarea id="post-full-content" rows="10" class="w-full bg-gray-800 border border-gray-600 rounded-lg p-2" required></textarea>
                            </div>
                            <button type="submit" class="btn-gold font-bold w-full py-3 rounded-lg">Publish Post</button>
                        </form>
                    </div>
                    <div class="mt-8 max-w-4xl mx-auto">
                        <h2 class="text-2xl font-bold text-center mb-8">Manage Posts</h2>
                        <div id="manage-posts-container" class="space-y-4"></div>
                    </div>
                    
                    <!-- File Upload Section -->
                    <div class="max-w-2xl mx-auto bg-dark p-8 rounded-lg border border-gray-700 mt-16">
                        <h2 class="text-2xl font-bold mb-6">Upload Market File</h2>
                        <form id="upload-file-form">
                            <div class="mb-4">
                                <label for="file-title" class="block mb-2">File Title</label>
                                <input type="text" id="file-title" class="w-full bg-gray-800 border border-gray-600 rounded-lg p-2" required>
                            </div>
                            <div class="mb-6">
                                <label for="file-upload" class="block mb-2">Select File (PDF, XLS, etc.)</label>
                                <input type="file" id="file-upload" class="w-full text-gray-300" required>
                            </div>
                            <button type="submit" class="btn-gold font-bold w-full py-3 rounded-lg">Upload File</button>
                        </form>
                    </div>
                     <div class="mt-8 max-w-4xl mx-auto">
                        <h2 class="text-2xl font-bold text-center mb-8">Manage Files</h2>
                        <div id="manage-files-container" class="space-y-4"></div>
                    </div>
                </div>
            </section>
        </div>
    </main>

     <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 z-50 items-center justify-center hidden modal">
        <div class="modal-content w-full max-w-md p-8 rounded-lg border border-gray-700 relative">
            <button id="close-modal" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl">&times;</button>
            <h2 class="text-2xl font-bold text-center mb-6">Admin Login</h2>
            <form id="login-form">
                <div class="mb-4">
                    <label for="login-email" class="block mb-2">Email</label>
                    <input type="email" id="login-email" class="w-full bg-gray-800 border border-gray-600 rounded-lg p-2" required>
                </div>
                <div class="mb-6">
                    <label for="login-password" class="block mb-2">Password</label>
                    <input type="password" id="login-password" class="w-full bg-gray-800 border border-gray-600 rounded-lg p-2" required>
                </div>
                <button type="submit" class="btn-gold font-bold w-full py-3 rounded-lg">Login</button>
                <p id="login-error" class="text-red-500 text-center mt-4"></p>
            </form>
        </div>
    </div>
    
    <!-- Blog Post Modal -->
    <div id="blog-post-modal" class="fixed inset-0 z-50 items-center justify-center hidden modal p-4">
        <div class="modal-content w-full max-w-4xl h-full lg:h-5/6 p-6 rounded-lg border border-gray-700 flex flex-col">
            <button id="close-blog-modal" class="self-end text-3xl text-gray-400 hover:text-white">&times;</button>
            <div class="overflow-y-auto">
                <img id="blog-modal-image" src="" alt="Blog Post Image" class="w-full h-64 object-cover rounded-lg mb-6">
                <h2 id="blog-modal-title" class="text-3xl font-bold mb-4"></h2>
                <div id="blog-modal-content" class="text-gray-300 leading-relaxed"></div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-dark-secondary border-t border-gray-700">
       <div class="container mx-auto px-6 py-12">
            <div class="grid md:grid-cols-4 gap-8">
                <!-- About -->
                <div class="col-span-1">
                    <h3 class="text-xl font-bold text-white mb-4">Trading<span class="text-gold">Hub</span></h3>
                    <p class="text-gray-400">Providing in-depth fundamental analysis for the modern trader.</p>
                </div>
                <!-- Links -->
                <div>
                    <h4 class="font-bold text-white mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-gold" data-page="home">Home</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-gold" data-page="markets">Our Markets</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-gold" data-page="blog">Blog</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-gold" data-page="contact">Contact</a></li>
                    </ul>
                </div>
                <!-- Contact Info -->
                <div>
                    <h4 class="font-bold text-white mb-4">Contact</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><i class="fas fa-envelope mr-2 text-gold"></i> support@tradinghub.com</li>
                        <li><i class="fas fa-phone mr-2 text-gold"></i> +44 7458 157780</li>
                    </ul>
                </div>
                <!-- Socials -->
                <div>
                    <h4 class="font-bold text-white mb-4">Follow Us</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-gold"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-gold"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="#" class="text-gray-400 hover:text-gold"><i class="fab fa-youtube fa-lg"></i></a>
                    </div>
                </div>
            </div>
            <!-- Disclaimer -->
            <div class="mt-12 pt-8 border-t border-gray-700">
                <h4 class="font-bold text-white mb-2">Disclaimer</h4>
                <p class="text-xs text-gray-500 mb-4">Trading Hub provides educational and analytical content for informational purposes only. The information on this site is not intended to be, and does not constitute, financial advice or any other advice. Trading foreign exchange, commodities, and other financial instruments on margin carries a high level of risk and may not be suitable for all investors. Before deciding to trade, you should carefully consider your investment objectives, level of experience, and risk appetite.</p>
                <div class="text-center text-gray-500 text-sm">
                    <span>&copy; 2024 Trading Hub. All Rights Reserved.</span> |
                    <a href="#" class="hover:text-gold">Privacy Policy</a> |
                    <a href="#" class="hover:text-gold">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- WhatsApp Chat Icon -->
    <a href="https://wa.me/447458157780" target="_blank" class="fixed bottom-6 right-6 bg-green-500 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition-all">
        <i class="fab fa-whatsapp fa-2x"></i>
    </a>

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module">
        const { createClient } = supabase;

        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Elements ---
            const pages = document.querySelectorAll('.page');
            const desktopNav = document.getElementById('desktop-nav-links');
            const mobileNav = document.getElementById('mobile-menu');
            const loginModal = document.getElementById('login-modal');
            const loginForm = document.getElementById('login-form');
            const closeModalButton = document.getElementById('close-modal');
            const createPostForm = document.getElementById('create-post-form');
            const blogPostsContainer = document.getElementById('blog-posts-container');
            const managePostsContainer = document.getElementById('manage-posts-container');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const latestPostsContainer = document.getElementById('latest-posts-container');
            const uploadFileForm = document.getElementById('upload-file-form');
            const fileTitleInput = document.getElementById('file-title');
            const fileUploadInput = document.getElementById('file-upload');
            const manageFilesContainer = document.getElementById('manage-files-container');
            const marketFilesContainer = document.getElementById('market-files-container');
            const blogPostModal = document.getElementById('blog-post-modal');
            const closeBlogModalButton = document.getElementById('close-blog-modal');

            // --- Navigation Function ---
            function switchPage(pageId) {
                pages.forEach(page => page.classList.remove('active'));
                const targetPage = document.getElementById(pageId);
                if (targetPage) targetPage.classList.add('active');
                
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                document.querySelectorAll(`a[data-page="${pageId}"]`).forEach(l => l.classList.add('active'));

                mobileNav.classList.add('hidden');
                window.scrollTo(0, 0);
            }

            // --- UI Initialization ---
            function initializeUI() {
                // Use event delegation on a parent container
                document.body.addEventListener('click', (e) => {
                    const targetLink = e.target.closest('a[data-page]');
                    if (targetLink) {
                        e.preventDefault();
                        switchPage(targetLink.dataset.page);
                    }
                });

                if (mobileMenuButton && mobileNav) {
                    mobileMenuButton.addEventListener('click', () => mobileNav.classList.toggle('hidden'));
                }
                
                if(closeModalButton) {
                    closeModalButton.addEventListener('click', () => loginModal.style.display = 'none');
                }
                 if(closeBlogModalButton) {
                    closeBlogModalButton.addEventListener('click', () => blogPostModal.style.display = 'none');
                }
            }

            // --- Supabase Initialization ---
            function initializeSupabase() {
                try {
                    const SUPABASE_URL = 'https://jdjrpaefuzyhcjiwrefi.supabase.co';
                    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkanJwYWVmdXp5aGNqaXdyZWZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MzI4ODUsImV4cCI6MjA3MTEwODg4NX0._jadukAG6A33VVB2ENeQ1aydh02hjEsLbVwEDRx7Bbs';

                    const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

                    let currentUser = null;
                    const ADMIN_EMAIL = "admin@tradinghub.com";

                    function updateNavUI(user) {
                        const isAdmin = user && user.email === ADMIN_EMAIL;
                        desktopNav.querySelectorAll('.auth-link').forEach(el => el.remove());
                        mobileNav.querySelectorAll('.auth-link').forEach(el => el.remove());
                        let desktopLinks = '', mobileLinks = '';
                        if (user) {
                            if (isAdmin) {
                                desktopLinks += `<a href="#" class="nav-link text-gray-300 hover:text-gold auth-link" data-page="admin">Admin</a>`;
                                mobileLinks += `<a href="#" class="block py-2 text-gray-300 hover:text-gold auth-link" data-page="admin">Admin</a>`;
                            }
                            desktopLinks += `<a href="#" id="logout-btn" class="nav-link text-gray-300 hover:text-gold auth-link">Logout</a>`;
                            mobileLinks += `<a href="#" id="mobile-logout-btn" class="block py-2 text-gray-300 hover:text-gold auth-link">Logout</a>`;
                        } else {
                            desktopLinks += `<a href="#" id="login-btn" class="nav-link text-gray-300 hover:text-gold auth-link">Login</a>`;
                            mobileLinks += `<a href="#" id="mobile-login-btn" class="block py-2 text-gray-300 hover:text-gold auth-link">Login</a>`;
                        }
                        desktopNav.insertAdjacentHTML('beforeend', desktopLinks);
                        mobileNav.insertAdjacentHTML('beforeend', mobileLinks);
                        
                        document.getElementById('login-btn')?.addEventListener('click', (e) => { e.preventDefault(); loginModal.style.display = 'flex'; });
                        document.getElementById('mobile-login-btn')?.addEventListener('click', (e) => { e.preventDefault(); loginModal.style.display = 'flex'; });
                        document.getElementById('logout-btn')?.addEventListener('click', (e) => { e.preventDefault(); handleLogout(); });
                        document.getElementById('mobile-logout-btn')?.addEventListener('click', (e) => { e.preventDefault(); handleLogout(); });
                    }
                    
                    supabaseClient.auth.onAuthStateChange((event, session) => {
                        currentUser = session?.user ?? null;
                        updateNavUI(currentUser);
                    });


                    loginForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        const email = document.getElementById('login-email').value;
                        const password = document.getElementById('login-password').value;
                        const errorEl = document.getElementById('login-error');
                        errorEl.textContent = '';
                        
                        const { error } = await supabaseClient.auth.signInWithPassword({ email, password });

                        if (error) {
                            console.error("Login failed:", error);
                            errorEl.textContent = "Invalid email or password.";
                        } else {
                            loginModal.style.display = 'none';
                            loginForm.reset();
                        }
                    });

                    async function handleLogout() {
                        await supabaseClient.auth.signOut();
                        switchPage('home');
                    }

                    // --- Blog Logic ---
                    createPostForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        if (!currentUser || currentUser.email !== ADMIN_EMAIL) return alert("You are not authorized.");
                        const title = document.getElementById('post-title').value;
                        const imageUrl = document.getElementById('post-image-url').value;
                        const content = document.getElementById('post-content').value;
                        const full_content = document.getElementById('post-full-content').value;
                        
                        const { error } = await supabaseClient.from('posts').insert([{ title, imageUrl, content, full_content }]);
                        if (error) console.error("Error adding post:", error);
                        else createPostForm.reset();
                    });

                    function renderPosts(posts) {
                        let blogHtml = '', manageHtml = '', latestPostsHtml = '';
                        if (!posts || posts.length === 0) {
                             const noPostsMsg = `<p class="text-center col-span-full">No blog posts yet.</p>`;
                            blogHtml = noPostsMsg;
                            manageHtml = `<p class="text-center">No posts to manage.</p>`;
                            latestPostsHtml = noPostsMsg;
                        } else {
                            posts.forEach(post => {
                                blogHtml += `<div class="card rounded-lg overflow-hidden flex flex-col"><img src="${post.imageUrl}" alt="${post.title}" class="w-full h-48 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/600x400/1E1E1E/D4AF37?text=Image+Not+Found';"><div class="p-6 flex flex-col flex-grow"><h3 class="text-xl font-bold text-white mb-2">${post.title}</h3><p class="text-gray-400 mb-4 flex-grow">${post.content}</p><button data-id="${post.id}" class="read-more-btn btn-gold font-bold py-2 px-4 rounded-lg text-center mt-auto">Read More</button></div></div>`;
                                latestPostsHtml += `<a href="#" data-page="blog" class="block w-64 flex-shrink-0 card rounded-lg overflow-hidden"><img src="${post.imageUrl}" alt="${post.title}" class="w-full h-32 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/400x200/1E1E1E/D4AF37?text=Image+Not+Found';"><div class="p-4"><h4 class="text-md font-bold text-white truncate">${post.title}</h4></div></a>`;
                                manageHtml += `<div class="bg-dark p-4 rounded-lg flex justify-between items-center border border-gray-700"><span class="truncate pr-4">${post.title}</span><button data-id="${post.id}" class="delete-post-btn text-red-500 hover:text-red-400 font-bold">Delete</button></div>`;
                            });
                        }
                        blogPostsContainer.innerHTML = blogHtml;
                        managePostsContainer.innerHTML = manageHtml;
                        latestPostsContainer.innerHTML = latestPostsHtml;
                    }
                    
                    supabaseClient.from('posts').select('*').order('created_at', { ascending: false }).then(({ data }) => renderPosts(data));
                    supabaseClient.channel('public:posts').on('postgres_changes', { event: '*', schema: 'public', table: 'posts' }, () => {
                        supabaseClient.from('posts').select('*').order('created_at', { ascending: false }).then(({ data }) => renderPosts(data));
                    }).subscribe();


                    // --- File Upload Logic ---
                    uploadFileForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        if (!currentUser || currentUser.email !== ADMIN_EMAIL) return alert("You are not authorized.");
                        const title = fileTitleInput.value;
                        const file = fileUploadInput.files[0];
                        if (!file || !title) return;

                        const filePath = `public/${Date.now()}_${file.name}`;
                        const { error: uploadError } = await supabaseClient.storage.from('market-files').upload(filePath, file);

                        if (uploadError) {
                            console.error('Upload Error:', uploadError);
                            return;
                        }

                        const { data: { publicUrl } } = supabaseClient.storage.from('market-files').getPublicUrl(filePath);

                        const { error: dbError } = await supabaseClient.from('marketfiles').insert([{ title, downloadURL: publicUrl, filePath: filePath }]);
                        
                        if (dbError) console.error("Error adding file link:", dbError);
                        else uploadFileForm.reset();
                    });

                    function renderFiles(files) {
                        let marketFilesHtml = '', manageFilesHtml = '';
                        if (!files || files.length === 0) {
                            marketFilesHtml = `<p class="text-center col-span-full">No market files available yet.</p>`;
                            manageFilesHtml = `<p class="text-center">No files to manage.</p>`;
                        } else {
                            files.forEach(file => {
                                marketFilesHtml += `
                                    <div class="card p-6 rounded-lg flex flex-col items-center text-center">
                                        <i class="fas fa-file-alt fa-3x text-gold mb-4"></i>
                                        <h3 class="text-xl font-bold text-white mb-4">${file.title}</h3>
                                        <div class="flex space-x-2 mt-auto">
                                            <a href="${file.downloadURL}" target="_blank" class="btn-gold font-bold py-2 px-4 rounded-lg">Preview</a>
                                            <a href="${file.downloadURL}" download class="btn-gold font-bold py-2 px-4 rounded-lg">Download</a>
                                        </div>
                                    </div>
                                `;
                                manageFilesHtml += `
                                    <div class="bg-dark p-4 rounded-lg flex justify-between items-center border border-gray-700">
                                        <span class="truncate pr-4">${file.title}</span>
                                        <button data-id="${file.id}" data-path="${file.filePath}" class="delete-file-btn text-red-500 hover:text-red-400 font-bold">Delete</button>
                                    </div>`;
                            });
                        }
                        marketFilesContainer.innerHTML = marketFilesHtml;
                        manageFilesContainer.innerHTML = manageFilesHtml;
                    }

                    supabaseClient.from('marketfiles').select('*').order('created_at', { ascending: false }).then(({ data }) => renderFiles(data));
                    supabaseClient.channel('public:marketfiles').on('postgres_changes', { event: '*', schema: 'public', table: 'marketfiles' }, () => {
                        supabaseClient.from('marketfiles').select('*').order('created_at', { ascending: false }).then(({ data }) => renderFiles(data));
                    }).subscribe();

                    // Event delegation for delete and read more buttons
                    document.body.addEventListener('click', async (e) => {
                        if (e.target.classList.contains('delete-post-btn')) {
                            if (confirm("Are you sure?")) { 
                                const { error } = await supabaseClient.from('posts').delete().match({ id: e.target.dataset.id });
                                if(error) console.error("Error deleting post:", error);
                            }
                        }
                        if (e.target.classList.contains('delete-file-btn')) {
                            const docId = e.target.dataset.id;
                            const path = e.target.dataset.path;
                            if (confirm("Are you sure?")) {
                                const { error: storageError } = await supabaseClient.storage.from('market-files').remove([path]);
                                if (storageError) console.error("Error deleting file from storage:", storageError);
                                
                                const { error: dbError } = await supabaseClient.from('marketfiles').delete().match({ id: docId });
                                if(dbError) console.error("Error deleting file record:", dbError);
                            }
                        }
                        if (e.target.classList.contains('read-more-btn')) {
                            const postId = e.target.dataset.id;
                            const { data, error } = await supabaseClient.from('posts').select('*').eq('id', postId).single();
                            if (data) {
                                document.getElementById('blog-modal-image').src = data.imageUrl;
                                document.getElementById('blog-modal-title').textContent = data.title;
                                const contentToShow = data.full_content || data.content;
                                document.getElementById('blog-modal-content').innerHTML = contentToShow.replace(/\n/g, '<br>');
                                blogPostModal.style.display = 'flex';
                            }
                        }
                    });

                } catch (error) {
                    console.error("Critical Supabase Initialization Error:", error);
                    document.body.innerHTML = `<div class="text-white text-center p-8">Could not connect to the server. Please check your connection and try again.</div>`;
                }
            }

            // --- Run Initializers ---
            initializeUI();
            initializeSupabase();
        });
    </script>
</body>
</html>
